# Place for experiments and a work in progress.
# Author: Michal Bednarek

# Force mode example

from src.manipulators import Ur3

# communicate with a robot
manipulator = Ur3("150.254.47.150", 30003, 30002)

a = "movej([0.016864052042365074, -1.4555743376361292, 1.3643245697021484, -1.4542434851275843, -1.5743230024920862, 1.7468843460083008], a=1.3962634015954636, v=1.0471975511965976)\n"
b1 = "def myProg():\nforce_mode(p[0.0,0.0,0.0,0.0,0.0,0.0], [0, 0, 1, 0, 0, 0], [0.0, 0.0, 5.0, 0.0, 0.0, 0.0], 1, [0.1, 0.1, 0.15, 0.3490658503988659, 0.3490658503988659, 0.3490658503988659])\n" \
     "sleep(0.5)\n" \
     "movel([0.017145708244420632, -1.3651928582175614, 1.8325261263546686, -2.012830023169503, -1.5742761368515108, 1.744706281999439], a=0.1, v=0.1)\n" \
     "sleep(3)\n" \
     "movej([0.016864052042365074, -1.4555743376361292, 1.3643245697021484, -1.4542434851275843, -1.5743230024920862, 1.7468843460083008], a=1.3962634015954636, v=1.0471975511965976)\n" \
     "sleep(3)\n" \
     "end\n"
b2 = "end_force_mode()\n"


cmds = (a, b1, b2)

for cmd in cmds:
    print cmd
    manipulator.write_custom_command(cmd)
    raw_input()
